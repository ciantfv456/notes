{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\\\u05D4\\u05E9\\u05D8\\u05D5\\u05D9\\u05D5\\u05EA \\u05E9\\u05DC \\u05D1\\u05DF\\\\messaging-board\\\\src\\\\Message.js\";\nimport React, { Component, useState } from 'react';\nimport Draggable, { DraggableCore } from 'react-draggable';\nimport { gql } from 'apollo-boost';\nimport { graphql } from 'react-apollo';\nimport loader from \"./loading.gif\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst getMessagesQuery = gql`\n    {\n        messages {\n            title\n            content\n            id\n            user {\n                username\n                id\n            }\n            position {\n                x\n                y\n            }\n        }\n    }\n`;\nclass LoadingScreen extends Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loader\",\n      style: {\n        height: '100vh',\n        width: \"100%\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"center\", {\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: loader,\n          height: \"50%\",\n          width: \"50%\",\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 16\n    }, this);\n  }\n}\nclass Message extends Component {\n  constructor() {\n    super();\n    this.state = {\n      x: 0,\n      y: 0\n    };\n  }\n  render(message) {\n    const [x, setX] = useState(0);\n    const [y, setY] = useState(0);\n    const stopDraggingEvent = (e, dragElement) => {\n      //send new position at dragElement.x, dragElement.y\n      console.log(`x: ${dragElement.x}  y: ${dragElement.y}`);\n      console.log(e.srcElement.parentElement);\n      let element = document.getElementById(e.srcElement.parentElement.id);\n      Object.assign(element.style, {\n        position: \"absolute\",\n        left: `${e.srcElement.parentElement.left}px`,\n        top: `${e.srcElement.parentElement.top}px`\n      });\n      setX(e.srcElement.parentElement.left);\n      setY(e.srcElement.parentElement.top);\n    };\n    setX(message.position.x);\n    setY(message.position.y);\n    const newStyle = {\n      position: \"absolute\",\n      left: `${x}px`,\n      top: `${y}px`\n    };\n    return /*#__PURE__*/_jsxDEV(Draggable, {\n      onStop: stopDraggingEvent,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        id: message.id,\n        style: newStyle,\n        className: \"message\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"title\",\n          children: message.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"content\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: message.content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"writer\",\n            children: [\"- \", message.user.username]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 9\n        }, this)]\n      }, message.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 72\n      }, this)\n    }, message.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }, this);\n  }\n}\nclass Messages extends Component {\n  readMessages(x, setX, y, setY) {\n    console.log(this.props);\n    if (this.props.data.loading) {\n      return /*#__PURE__*/_jsxDEV(LoadingScreen, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 20\n      }, this);\n    }\n    return this.props.data.messages.map(message => {\n      return /*#__PURE__*/_jsxDEV(Message, {\n        message: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 20\n      }, this);\n    });\n  }\n  render() {\n    const [x, setX] = useState(0);\n    const [y, setY] = useState(0);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: this.readMessages(x, setX, y, setY)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 16\n    }, this);\n  }\n}\nexport default graphql(getMessagesQuery)(Messages);","map":{"version":3,"names":["React","Component","useState","Draggable","DraggableCore","gql","graphql","loader","jsxDEV","_jsxDEV","getMessagesQuery","LoadingScreen","render","className","style","height","width","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","Message","constructor","state","x","y","message","setX","setY","stopDraggingEvent","e","dragElement","console","log","srcElement","parentElement","element","document","getElementById","id","Object","assign","position","left","top","newStyle","onStop","title","content","user","username","Messages","readMessages","props","data","loading","messages","map"],"sources":["C:/Users/user/Desktop/השטויות של בן/messaging-board/src/Message.js"],"sourcesContent":["import React, {Component, useState} from 'react'\r\nimport Draggable, {DraggableCore} from 'react-draggable';\r\nimport {gql} from 'apollo-boost'\r\nimport {graphql} from 'react-apollo'\r\nimport loader from \"./loading.gif\"\r\n\r\nconst getMessagesQuery = gql`\r\n    {\r\n        messages {\r\n            title\r\n            content\r\n            id\r\n            user {\r\n                username\r\n                id\r\n            }\r\n            position {\r\n                x\r\n                y\r\n            }\r\n        }\r\n    }\r\n`\r\nclass LoadingScreen extends Component {\r\n    render(){\r\n        return <div className=\"loader\" style={{height:'100vh', width:\"100%\"}}>\r\n        <center>\r\n            <img src={loader} height=\"50%\" width=\"50%\" alt=\"\"/>\r\n        </center>\r\n         </div>\r\n    }\r\n}\r\n\r\n\r\nclass Message extends Component {\r\n    constructor() {\r\n        super();\r\n      \r\n        this.state = {\r\n          x: 0,\r\n          y: 0,\r\n        };\r\n      }\r\n    render(message) {\r\n        const [x, setX] = useState(0)\r\n        const [y, setY] = useState(0)\r\n        \r\n        const stopDraggingEvent = (e, dragElement) => {\r\n            //send new position at dragElement.x, dragElement.y\r\n            console.log(`x: ${dragElement.x}  y: ${dragElement.y}`)\r\n            console.log(e.srcElement.parentElement)\r\n            let element = document.getElementById(e.srcElement.parentElement.id)\r\n            Object.assign(element.style, {\r\n                position: \"absolute\",\r\n                left: `${e.srcElement.parentElement.left}px`,\r\n                top: `${e.srcElement.parentElement.top}px`\r\n            })\r\n            setX(e.srcElement.parentElement.left)\r\n            setY(e.srcElement.parentElement.top)\r\n        }\r\n\r\n        setX(message.position.x)\r\n        setY(message.position.y)\r\n        \r\n        const newStyle = {\r\n            position: \"absolute\",\r\n            left: `${x}px`,\r\n            top: `${y}px`\r\n        }\r\n        \r\n        return (<Draggable key={message.id} onStop={stopDraggingEvent}><div id={message.id} style={newStyle} className='message' key={message.id}>\r\n        <div className='title'>\r\n            {message.title}\r\n        </div>\r\n        <div className='content'>\r\n            <p>\r\n                {message.content}\r\n            </p>\r\n            <p className='writer'>- {message.user.username}</p>\r\n        </div>\r\n        \r\n        </div></Draggable>)\r\n    }\r\n}\r\nclass Messages extends Component {\r\n    \r\n    readMessages(x, setX, y, setY) {\r\n        console.log(this.props)\r\n        if (this.props.data.loading) {\r\n            return <LoadingScreen/>\r\n        }\r\n        return this.props.data.messages.map(message => {\r\n            \r\n            return <Message message={message}/>\r\n        })\r\n    }\r\n    render() {\r\n        const [x, setX] = useState(0)\r\n        const [y, setY] = useState(0)\r\n        return <div>\r\n            {this.readMessages(x, setX, y, setY)}\r\n        </div>\r\n    }\r\n}\r\n\r\nexport default graphql(getMessagesQuery)(Messages);"],"mappings":";AAAA,OAAOA,KAAK,IAAGC,SAAS,EAAEC,QAAQ,QAAO,OAAO;AAChD,OAAOC,SAAS,IAAGC,aAAa,QAAO,iBAAiB;AACxD,SAAQC,GAAG,QAAO,cAAc;AAChC,SAAQC,OAAO,QAAO,cAAc;AACpC,OAAOC,MAAM,MAAM,eAAe;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAElC,MAAMC,gBAAgB,GAAGL,GAAI;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,MAAMM,aAAa,SAASV,SAAS,CAAC;EAClCW,MAAMA,CAAA,EAAE;IACJ,oBAAOH,OAAA;MAAKI,SAAS,EAAC,QAAQ;MAACC,KAAK,EAAE;QAACC,MAAM,EAAC,OAAO;QAAEC,KAAK,EAAC;MAAM,CAAE;MAAAC,QAAA,eACrER,OAAA;QAAAQ,QAAA,eACIR,OAAA;UAAKS,GAAG,EAAEX,MAAO;UAACQ,MAAM,EAAC,KAAK;UAACC,KAAK,EAAC,KAAK;UAACG,GAAG,EAAC;QAAE;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAE;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAC9C;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QACF;EACX;AACJ;AAGA,MAAMC,OAAO,SAASvB,SAAS,CAAC;EAC5BwB,WAAWA,CAAA,EAAG;IACV,KAAK,EAAE;IAEP,IAAI,CAACC,KAAK,GAAG;MACXC,CAAC,EAAE,CAAC;MACJC,CAAC,EAAE;IACL,CAAC;EACH;EACFhB,MAAMA,CAACiB,OAAO,EAAE;IACZ,MAAM,CAACF,CAAC,EAAEG,IAAI,CAAC,GAAG5B,QAAQ,CAAC,CAAC,CAAC;IAC7B,MAAM,CAAC0B,CAAC,EAAEG,IAAI,CAAC,GAAG7B,QAAQ,CAAC,CAAC,CAAC;IAE7B,MAAM8B,iBAAiB,GAAGA,CAACC,CAAC,EAAEC,WAAW,KAAK;MAC1C;MACAC,OAAO,CAACC,GAAG,CAAE,MAAKF,WAAW,CAACP,CAAE,QAAOO,WAAW,CAACN,CAAE,EAAC,CAAC;MACvDO,OAAO,CAACC,GAAG,CAACH,CAAC,CAACI,UAAU,CAACC,aAAa,CAAC;MACvC,IAAIC,OAAO,GAAGC,QAAQ,CAACC,cAAc,CAACR,CAAC,CAACI,UAAU,CAACC,aAAa,CAACI,EAAE,CAAC;MACpEC,MAAM,CAACC,MAAM,CAACL,OAAO,CAACzB,KAAK,EAAE;QACzB+B,QAAQ,EAAE,UAAU;QACpBC,IAAI,EAAG,GAAEb,CAAC,CAACI,UAAU,CAACC,aAAa,CAACQ,IAAK,IAAG;QAC5CC,GAAG,EAAG,GAAEd,CAAC,CAACI,UAAU,CAACC,aAAa,CAACS,GAAI;MAC3C,CAAC,CAAC;MACFjB,IAAI,CAACG,CAAC,CAACI,UAAU,CAACC,aAAa,CAACQ,IAAI,CAAC;MACrCf,IAAI,CAACE,CAAC,CAACI,UAAU,CAACC,aAAa,CAACS,GAAG,CAAC;IACxC,CAAC;IAEDjB,IAAI,CAACD,OAAO,CAACgB,QAAQ,CAAClB,CAAC,CAAC;IACxBI,IAAI,CAACF,OAAO,CAACgB,QAAQ,CAACjB,CAAC,CAAC;IAExB,MAAMoB,QAAQ,GAAG;MACbH,QAAQ,EAAE,UAAU;MACpBC,IAAI,EAAG,GAAEnB,CAAE,IAAG;MACdoB,GAAG,EAAG,GAAEnB,CAAE;IACd,CAAC;IAED,oBAAQnB,OAAA,CAACN,SAAS;MAAkB8C,MAAM,EAAEjB,iBAAkB;MAAAf,QAAA,eAACR,OAAA;QAAKiC,EAAE,EAAEb,OAAO,CAACa,EAAG;QAAC5B,KAAK,EAAEkC,QAAS;QAACnC,SAAS,EAAC,SAAS;QAAAI,QAAA,gBACxHR,OAAA;UAAKI,SAAS,EAAC,OAAO;UAAAI,QAAA,EACjBY,OAAO,CAACqB;QAAK;UAAA9B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QACZ,eACNd,OAAA;UAAKI,SAAS,EAAC,SAAS;UAAAI,QAAA,gBACpBR,OAAA;YAAAQ,QAAA,EACKY,OAAO,CAACsB;UAAO;YAAA/B,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,QAChB,eACJd,OAAA;YAAGI,SAAS,EAAC,QAAQ;YAAAI,QAAA,GAAC,IAAE,EAACY,OAAO,CAACuB,IAAI,CAACC,QAAQ;UAAA;YAAAjC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,QAAK;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QACjD;MAAA,GATwHM,OAAO,CAACa,EAAE;QAAAtB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAWlI,GAXkBM,OAAO,CAACa,EAAE;MAAAtB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAWhB;EACtB;AACJ;AACA,MAAM+B,QAAQ,SAASrD,SAAS,CAAC;EAE7BsD,YAAYA,CAAC5B,CAAC,EAAEG,IAAI,EAAEF,CAAC,EAAEG,IAAI,EAAE;IAC3BI,OAAO,CAACC,GAAG,CAAC,IAAI,CAACoB,KAAK,CAAC;IACvB,IAAI,IAAI,CAACA,KAAK,CAACC,IAAI,CAACC,OAAO,EAAE;MACzB,oBAAOjD,OAAA,CAACE,aAAa;QAAAS,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAE;IAC3B;IACA,OAAO,IAAI,CAACiC,KAAK,CAACC,IAAI,CAACE,QAAQ,CAACC,GAAG,CAAC/B,OAAO,IAAI;MAE3C,oBAAOpB,OAAA,CAACe,OAAO;QAACK,OAAO,EAAEA;MAAQ;QAAAT,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAE;IACvC,CAAC,CAAC;EACN;EACAX,MAAMA,CAAA,EAAG;IACL,MAAM,CAACe,CAAC,EAAEG,IAAI,CAAC,GAAG5B,QAAQ,CAAC,CAAC,CAAC;IAC7B,MAAM,CAAC0B,CAAC,EAAEG,IAAI,CAAC,GAAG7B,QAAQ,CAAC,CAAC,CAAC;IAC7B,oBAAOO,OAAA;MAAAQ,QAAA,EACF,IAAI,CAACsC,YAAY,CAAC5B,CAAC,EAAEG,IAAI,EAAEF,CAAC,EAAEG,IAAI;IAAC;MAAAX,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAClC;EACV;AACJ;AAEA,eAAejB,OAAO,CAACI,gBAAgB,CAAC,CAAC4C,QAAQ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}